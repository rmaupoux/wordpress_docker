"use strict";
(globalThis["webpackChunkds_citeocom"] = globalThis["webpackChunkds_citeocom"] || []).push([["vendors-node_modules_citeo_ds-citeo_dist_esm_ds-citeo-select_entry_js"],{

/***/ "./node_modules/@citeo/ds-citeo/dist/esm/ds-citeo-select.entry.js":
/*!************************************************************************!*\
  !*** ./node_modules/@citeo/ds-citeo/dist/esm/ds-citeo-select.entry.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ds_citeo_select: () => (/* binding */ DsCiteoSelect)
/* harmony export */ });
/* harmony import */ var _index_663b60ab_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index-663b60ab.js */ "./node_modules/@citeo/ds-citeo/dist/esm/index-663b60ab.js");


const dsCiteoSelectCss = ".ds-select{cursor:pointer;position:relative;width:var(--ds-select-width, var(--ds-semantic-sizing-9xl));background:var(--ds-semantic-color-layout-surface-medium-default)}.ds-select.ds-select-disabled{background:var(--ds-semantic-color-disabled-surface-medium);opacity:0.38;cursor:default}.ds-select.ds-opened-select .ds-select-header{border-color:var(--ds-semantic-color-action-surface-stronger)}.ds-select .ds-select-header{display:flex;align-items:center;justify-content:space-between;height:var(--ds-semantic-sizing-2xl);padding:0 var(--ds-semantic-spacing-m);border-radius:var(--ds-semantic-radius-default);border:1px solid var(--ds-semantic-color-layout-border-strong-default);box-sizing:border-box}.ds-select .ds-select-label{color:var(--ds-semantic-color-layout-content-subtle);font-size:var(--ds-core-typography-font-size-xs);font-weight:var(--ds-core-typography-font-weight-medium);line-height:var(--ds-core-typography-line-height-m);display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical;overflow:hidden}.ds-select .ds-select-label.ds-select-label-option{color:var(--ds-semantic-color-layout-content-medium)}.ds-select .ds-select-options{display:none;position:absolute;left:0;top:calc(var(--ds-semantic-spacing-3xl) + var(--ds-semantic-spacing-3xs));width:var(--ds-select-width, var(--ds-semantic-sizing-9xl));border-radius:var(--ds-semantic-radius-default);background:var(--ds-semantic-color-layout-surface-medium-default);box-shadow:0px 2px 8px rgba(115, 127, 143, 0.25);z-index:1}.ds-select .ds-select-options.ds-select-options-shown{display:block}.ds-select .ds-select-options .ds-select-search{border-bottom:1px solid var(--ds-semantic-color-layout-border-medium-default);padding:var(--ds-semantic-spacing-s)}.ds-select .ds-select-options .ds-select-search input{color:var(--ds-semantic-color-layout-content-subtle);font-size:var(--ds-core-typography-font-size-2xs);font-weight:var(--ds-core-typography-font-weight-medium);line-height:var(--ds-core-typography-line-height-s);border:0;box-shadow:0}.ds-select .ds-select-options .ds-select-search input:focus,.ds-select .ds-select-options .ds-select-search input:active{border:0;outline-style:none}.ds-select .ds-select-options ul{padding:0;margin:0;max-height:220px;overflow-y:auto}.ds-select .ds-select-options ul.ds-select-select-all-list{border-bottom:1px solid var(--ds-semantic-color-layout-border-medium-default)}.ds-select .ds-select-options ul li{display:flex;align-items:center;justify-content:flex-start;gap:var(--ds-semantic-spacing-xs);list-style:none;padding:var(--ds-semantic-spacing-xs) var(--ds-semantic-spacing-m);color:var(--ds-semantic-color-layout-content-medium);min-height:var(--ds-semantic-sizing-xl);max-height:var(--ds-semantic-sizing-4xl);box-sizing:border-box}.ds-select .ds-select-options ul li.ds-select-single{min-height:36px}.ds-select .ds-select-options ul li:hover{background:var(--ds-semantic-color-layout-surface-medium-hover)}.ds-select .ds-select-options ul li.ds-selected-option{color:var(--ds-semantic-color-action-surface-stronger)}.ds-select .ds-select-options ul li span{display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}.ds-select .ds-select-options .ds-select-no-data{display:flex;flex-direction:column;align-items:center;justify-content:space-between;gap:var(--ds-semantic-spacing-xs);border-top:1px solid var(--ds-semantic-color-action-surface-stronger);padding:var(--ds-semantic-spacing-xl) var(--ds-semantic-spacing-m)}.ds-select .ds-select-options .ds-select-no-data .ds-select-no-data-label{color:var(--ds-semantic-color-layout-content-subtlest);text-align:center;font-size:var(--ds-core-typography-font-size-s);font-weight:var(--ds-core-typography-font-weight-medium);line-height:var(--ds-core-typography-line-height-m)}";
const DsCiteoSelectStyle0 = dsCiteoSelectCss;

const DsCiteoSelect = class {
    constructor(hostRef) {
        (0,_index_663b60ab_js__WEBPACK_IMPORTED_MODULE_0__.r)(this, hostRef);
        this.selectedOptionsChange = (0,_index_663b60ab_js__WEBPACK_IMPORTED_MODULE_0__.c)(this, "selectedOptionsChange", 7);
        /**
         * The select search hidden state
         * */
        this.selectSearchHidden = false;
        /**
         * The select disabled state
         * */
        this.disabled = false;
        this.selectSearch = '';
        this.selectOpened = false;
    }
    checkForClickOutside(event) {
        if (this.el.contains(event.target)) {
            return;
        }
        this.selectOpened = false;
    }
    render() {
        const disabledClass = (this.disabled && 'ds-select-disabled') || '';
        const openedSelectClass = (this.selectOpened && 'ds-opened-select') || '';
        return ((0,_index_663b60ab_js__WEBPACK_IMPORTED_MODULE_0__.h)(_index_663b60ab_js__WEBPACK_IMPORTED_MODULE_0__.H, { key: '6ad44a9e6aa3cc937923a8aad78b00cf07299ff4' }, (0,_index_663b60ab_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { key: '01f7da13c2146bea7be3f8d3bbf73895bd39b86d', class: `ds-select ${disabledClass} ${openedSelectClass}` }, this.selectHeader, this.selectBody)));
    }
    get selectHeader() {
        return ((0,_index_663b60ab_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: `ds-select-header`, onClick: (e) => this.toggleSelect(e) }, this.selectMode === 'single' && ((0,_index_663b60ab_js__WEBPACK_IMPORTED_MODULE_0__.h)("span", { class: `ds-select-label ${this.singleSelectSelectedOption ? 'ds-select-label-option' : ''}` }, this.singleSelectSelectedOption ? ((0,_index_663b60ab_js__WEBPACK_IMPORTED_MODULE_0__.h)("span", null, this.singleSelectSelectedOption.label)) : ((0,_index_663b60ab_js__WEBPACK_IMPORTED_MODULE_0__.h)("span", null, this.wordings.selectLabelText)))), this.selectMode === 'multiple' ||
            this.selectMode === 'multipleWithTag' ? ((0,_index_663b60ab_js__WEBPACK_IMPORTED_MODULE_0__.h)("span", { class: `ds-select-label ${this.singleSelectSelectedOption ? 'ds-select-label-option' : ''}` }, this.multipleSelectSelectedOptions.length > 0 ? ((0,_index_663b60ab_js__WEBPACK_IMPORTED_MODULE_0__.h)("span", null, this.multipleSelectSelectedOptionsLabels)) : ((0,_index_663b60ab_js__WEBPACK_IMPORTED_MODULE_0__.h)("span", null, this.wordings.selectLabelText)))) : null, (0,_index_663b60ab_js__WEBPACK_IMPORTED_MODULE_0__.h)("ds-citeo-icon", { name: this.selectOpened
                ? 'icon-core_chevron-up'
                : 'icon-core_chevron-down', size: 20, color: this.selectOpened ? '#2563EB' : '#6B7280' })));
    }
    get selectBody() {
        return ((0,_index_663b60ab_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: `ds-select-options ${this.selectOpened ? 'ds-select-options-shown' : ''}` }, !this.selectSearchHidden && ((0,_index_663b60ab_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: "ds-select-search" }, (0,_index_663b60ab_js__WEBPACK_IMPORTED_MODULE_0__.h)("input", { id: "ds-select-search", type: "text", placeholder: this.wordings.searchPlaceholderText, onInput: (e) => this.updateSearch(e) }))), this.selectMode === 'multiple' ||
            this.selectMode === 'multipleWithTag' ? ((0,_index_663b60ab_js__WEBPACK_IMPORTED_MODULE_0__.h)("ul", { class: "ds-select-select-all-list" }, (0,_index_663b60ab_js__WEBPACK_IMPORTED_MODULE_0__.h)("li", { onClick: (e) => this.toggleAllOptions(e) }, (0,_index_663b60ab_js__WEBPACK_IMPORTED_MODULE_0__.h)("ds-citeo-checkbox", { checked: this.allOptionsAreSelected }), (0,_index_663b60ab_js__WEBPACK_IMPORTED_MODULE_0__.h)("span", null, this.wordings.selectAllText)))) : null, this.foundSelectResults.length > 0 && ((0,_index_663b60ab_js__WEBPACK_IMPORTED_MODULE_0__.h)("ul", null, this.selectMode === 'single' &&
            this.foundSelectResults.map((option) => ((0,_index_663b60ab_js__WEBPACK_IMPORTED_MODULE_0__.h)("li", { class: `ds-text-base ds-select-label ${option.selected ? 'ds-selected-option' : ''} ds-select-single`, "data-cy": `ds-select-option-${option.id}`, onClick: () => this.updateSingleSelectOption(option.id) }, (0,_index_663b60ab_js__WEBPACK_IMPORTED_MODULE_0__.h)("span", null, option.label)))), this.selectMode === 'multiple' &&
            this.foundSelectResults.map((option) => ((0,_index_663b60ab_js__WEBPACK_IMPORTED_MODULE_0__.h)("li", { class: "ds-text-base", "data-cy": `ds-select-option-${option.id}`, onClick: (e) => this.toggleMultipleSelectOption(e, option.id) }, (0,_index_663b60ab_js__WEBPACK_IMPORTED_MODULE_0__.h)("ds-citeo-checkbox", { checked: option.selected }), (0,_index_663b60ab_js__WEBPACK_IMPORTED_MODULE_0__.h)("span", null, option.label)))), this.selectMode === 'multipleWithTag' &&
            this.foundSelectResults.map((option) => ((0,_index_663b60ab_js__WEBPACK_IMPORTED_MODULE_0__.h)("li", { class: "ds-text-base", "data-cy": `ds-select-option-${option.id}`, onClick: (e) => this.toggleMultipleSelectOption(e, option.id) }, (0,_index_663b60ab_js__WEBPACK_IMPORTED_MODULE_0__.h)("ds-citeo-checkbox", { checked: option.selected }), (0,_index_663b60ab_js__WEBPACK_IMPORTED_MODULE_0__.h)("ds-citeo-tag", { text: option.label, icon: "icon-core_status", size: "s", style: {
                    '--ds-tag-background-color': option.tagBgColor,
                    '--ds-tag-color': option.tagTextColor,
                } })))))), this.foundSelectResults.length === 0 && ((0,_index_663b60ab_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: "ds-select-no-data" }, (0,_index_663b60ab_js__WEBPACK_IMPORTED_MODULE_0__.h)("ds-citeo-icon", { size: 24, name: "icon-core_frown", color: "#9CA3AF" }), (0,_index_663b60ab_js__WEBPACK_IMPORTED_MODULE_0__.h)("span", { class: "ds-select-no-data-label" }, this.wordings.noSearchResultText)))));
    }
    get foundSelectResults() {
        return this.optionsWithSelectionState.filter((option) => {
            const elementName = option.label
                .toLowerCase()
                .replace(/\(/g, ' ')
                .replace(/\)/g, ' ')
                .replace(/\//g, ' ')
                .replace(/-/g, ' ');
            const splitElementName = elementName.split(' ');
            const search = this.getUnnacentedString(this.selectSearch.toLowerCase());
            if (search.includes(' ')) {
                return this.getUnnacentedString(elementName).includes(search);
            }
            return splitElementName.find((part) => this.getUnnacentedString(part).startsWith(search));
        });
    }
    toggleSelect(event) {
        event.preventDefault();
        if (!this.disabled) {
            this.selectOpened = !this.selectOpened;
            if (this.selectOpened) {
                window.requestAnimationFrame(() => document.getElementById('ds-select-search').focus());
            }
        }
    }
    updateSearch(event) {
        this.selectSearch = event.target.value;
    }
    get optionsWithSelectionState() {
        return this.options.map((option) => {
            return Object.assign(Object.assign({}, option), { selected: this.selectedOptions.includes(option.id) });
        });
    }
    get singleSelectSelectedOption() {
        return this.optionsWithSelectionState.find((option) => option.selected);
    }
    updateSingleSelectOption(optionId) {
        this.selectedOptionsChange.emit([optionId]);
        this.selectOpened = false;
    }
    get multipleSelectSelectedOptions() {
        return this.optionsWithSelectionState.filter((option) => option.selected);
    }
    get multipleSelectSelectedOptionsLabels() {
        if (this.multipleSelectSelectedOptions.length === 1) {
            return this.multipleSelectSelectedOptions[0].label;
        }
        const mainLabel = this.multipleSelectSelectedOptions[0].label;
        const otherLabelsCount = this.multipleSelectSelectedOptions.length - 1;
        return otherLabelsCount > 1
            ? `${mainLabel}, (+${otherLabelsCount} ${this.wordings.otherMultipleText})`
            : `${mainLabel}, (+${otherLabelsCount} ${this.wordings.otherSingleText})`;
    }
    get allOptionsAreSelected() {
        return this.foundSelectResults.every((option) => option.selected);
    }
    toggleMultipleSelectOption(event, optionId) {
        event.preventDefault();
        const selectedOptions = this.selectedOptions.includes(optionId)
            ? this.selectedOptions.filter((option) => option !== optionId)
            : this.selectedOptions.concat(optionId);
        this.selectedOptionsChange.emit(selectedOptions);
    }
    toggleAllOptions(event) {
        event.preventDefault();
        if (this.allOptionsAreSelected) {
            this.selectedOptionsChange.emit([]);
        }
        else {
            this.selectedOptionsChange.emit(this.foundSelectResults.map((option) => option.id));
        }
    }
    getUnnacentedString(str) {
        return str.normalize('NFD').replace(/[\u0300-\u036f]/g, '');
    }
    get el() { return (0,_index_663b60ab_js__WEBPACK_IMPORTED_MODULE_0__.g)(this); }
};
DsCiteoSelect.style = DsCiteoSelectStyle0;




/***/ })

}]);
//# sourceMappingURL=vendors-node_modules_citeo_ds-citeo_dist_esm_ds-citeo-select_entry_js.js.map?ver=91dd4f676d36f5ab492b