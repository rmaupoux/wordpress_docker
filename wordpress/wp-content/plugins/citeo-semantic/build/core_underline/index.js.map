{"version":3,"file":"core_underline/index.js","mappings":";;;;;;;;;;AAAA,6C;;;;;;;;;;ACAA,4C;;;;;;;;;;ACAA,sC;;;;;;;;;;ACAA,0C;;;;;;;;;;ACAA,iC;;;;;;;;;;ACAA,2C;;;;;;UCAA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA;WACA;WACA,iCAAiC,WAAW;WAC5C;WACA,E;;;;;WCPA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA,E;;;;;WCPA,wF;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D,E;;;;;;;;;;;;;;;;;;;;;;;ACNA;AACA;AACA;AACmG;AACnC;AACH;AACjB;AAEQ;AAAA;AAEpD,MAAMiB,SAAS,GAAGA,CAAC;EAAEC,QAAQ;EAAEC,QAAQ;EAAEC;AAAM,CAAC,KAAK;EAEjD,MAAMC,aAAa,GAAGd,0DAAS,CAAIe,MAAM,IAAM;IAC3C,OAAOA,MAAM,CAAE,mBAAoB,CAAC,CAACC,gBAAgB,CAAC,CAAC;EAC3D,CAAC,EAAE,EAAG,CAAC;EAEP,IAAKF,aAAa,IAAKA,aAAa,CAACG,IAAI,KAAK,cAAc,IAAIH,aAAa,CAACG,IAAI,KAAK,gBAAiB,EAAG;IACvG;EACJ;;EAEA;EACA,MAAMC,mBAAmB,GAAG,CAAC,MAAM,CAAC;EACpC,MAAMC,aAAa,GAAG,CAAC,GAAGC,QAAQ,CAACC,IAAI,CAACC,SAAS,CAAC;EAElD,MAAMC,WAAW,GAAGL,mBAAmB,CAACM,IAAI,CAACC,SAAS,IAAIN,aAAa,CAACO,QAAQ,CAACD,SAAS,CAAC,CAAC;EAE5F,IAAG,CAACF,WAAW,EAAE;IACb,oBACIlB,sDAAA,CAACR,0EAAqB;MAClB8B,IAAI,EAAC,kBAAkB;MACvBC,KAAK,EAAC,mBAAgB;MACtBC,OAAO,EAAEA,CAAA,KAAM;QACXjB,QAAQ,CACJhB,kEAAY,CAACiB,KAAK,EAAE;UAChBiB,IAAI,EAAE;QACV,CAAC,CACL,CAAC;MACL,CAAE;MACFnB,QAAQ,EAAEA;IAAS,CACtB,CAAC;EAEV;;EAEA;EACA,MAAMoB,MAAM,GAAG,CACjB;IAAEd,IAAI,EAAE,MAAM;IAAEe,KAAK,EAAE;EAAU,CAAC,EAClC;IAAEf,IAAI,EAAE,OAAO;IAAEe,KAAK,EAAE;EAAU,CAAC,EACnC;IAAEf,IAAI,EAAE,MAAM;IAAEe,KAAK,EAAE;EAAU,CAAC,EAClC;IAAEf,IAAI,EAAE,YAAY;IAAEe,KAAK,EAAE;EAAU,CAAC,EACxC;IAAEf,IAAI,EAAE,MAAM;IAAEe,KAAK,EAAE;EAAU,CAAC,EAClC;IAAEf,IAAI,EAAE,YAAY;IAAEe,KAAK,EAAE;EAAU,CAAC,EACxC;IAAEf,IAAI,EAAE,YAAY;IAAEe,KAAK,EAAE;EAAU,CAAC,EACxC;IAAEf,IAAI,EAAE,MAAM;IAAEe,KAAK,EAAE;EAAU,CAAC,EAClC;IAAEf,IAAI,EAAE,YAAY;IAAEe,KAAK,EAAE;EAAU,CAAC,EACxC;IAAEf,IAAI,EAAE,aAAa;IAAEe,KAAK,EAAE;EAAU,CAAC,EACzC;IAAEf,IAAI,EAAE,OAAO;IAAEe,KAAK,EAAE;EAAU,CAAC,EACnC;IAAEf,IAAI,EAAE,aAAa;IAAEe,KAAK,EAAE;EAAU,CAAC,EACzC;IAAEf,IAAI,EAAE,aAAa;IAAEe,KAAK,EAAE;EAAS,CAAC,EACxC;IAAEf,IAAI,EAAE,OAAO;IAAEe,KAAK,EAAE;EAAS,CAAC,EAClC;IAAEf,IAAI,EAAE,aAAa;IAAEe,KAAK,EAAE;EAAS,CAAC,EACxC;IAAEf,IAAI,EAAE,aAAa;IAAEe,KAAK,EAAE;EAAU,CAAC,EACzC;IAAEf,IAAI,EAAE,OAAO;IAAEe,KAAK,EAAE;EAAU,CAAC,EACnC;IAAEf,IAAI,EAAE,aAAa;IAAEe,KAAK,EAAE;EAAU,CAAC,EACzC;IAAEf,IAAI,EAAE,cAAc;IAAEe,KAAK,EAAE;EAAU,CAAC,EAC1C;IAAEf,IAAI,EAAE,QAAQ;IAAEe,KAAK,EAAE;EAAU,CAAC,EACpC;IAAEf,IAAI,EAAE,cAAc;IAAEe,KAAK,EAAE;EAAU,CAAC,EACpC;IAAEf,IAAI,EAAE,YAAY;IAAEe,KAAK,EAAE;EAAU,CAAC,EAC9C;IAAEf,IAAI,EAAE,MAAM;IAAEe,KAAK,EAAE;EAAU,CAAC,EAClC;IAAEf,IAAI,EAAE,YAAY;IAAEe,KAAK,EAAE;EAAU,CAAC,CACxC;EAEE,MAAM,CAACC,UAAU,EAAEC,aAAa,CAAC,GAAGjC,+CAAQ,CAAC,KAAK,CAAC;EACnD,MAAM,CAAC+B,KAAK,EAAEG,QAAQ,CAAC,GAAGlC,+CAAQ,CAAC,SAAS,CAAC;EAC7C,MAAMmC,SAAS,GAAGlC,6CAAM,CAAC,CAAC;EAE1BC,gDAAS,CAAC,MAAM;IACZ+B,aAAa,CAAC,KAAK,CAAC;EACxB,CAAC,EAAE,CAACF,KAAK,CAAC,CAAC;EAEX,MAAMK,UAAU,GAAIC,GAAG,IAAK;IACxB,MAAMC,UAAU,GAAGR,MAAM,CAACS,IAAI,CAACC,EAAE,IAAIA,EAAE,CAACT,KAAK,KAAKM,GAAG,CAAC;IAEtD,IAAGC,UAAU,EAAE;MACX3B,QAAQ,CACJlB,iEAAW,CAACmB,KAAK,EAAE;QACf6B,UAAU,EAAE;UACRC,KAAK,EAAE,eAAeJ,UAAU,CAACtB,IAAI;QACzC,CAAC;QACDa,IAAI,EAAE;MACV,CAAC,CACL,CAAC;MACDK,QAAQ,CAACG,GAAG,CAAC;IACjB,CAAC,MAAM;MACHM,OAAO,CAACC,GAAG,CAAC,aAAa,CAAC;MAC1BjC,QAAQ,CACJjB,kEAAY,CAACkB,KAAK,EAAE,yBAAyB,CACjD,CAAC;MACDsB,QAAQ,CAAC,EAAE,CAAC;IAChB;EACJ,CAAC;EAED,oBACI1B,uDAAA,CAAAF,uDAAA;IAAAuC,QAAA,gBACIzC,sDAAA,CAACR,0EAAqB;MAClB8B,IAAI,EAAC,kBAAkB;MACvBC,KAAK,EAAC,mCAAgC;MACtCC,OAAO,EAAEA,CAAA,KAAM;QACXK,aAAa,CAAC,CAACD,UAAU,CAAC;MAC9B,CAAE;MACFtB,QAAQ,EAAEA,QAAS;MACnBoC,GAAG,EAAEX;IAAU,CAClB,CAAC,EAEDH,UAAU,iBACP5B,sDAAA,CAACN,0DAAO;MACJiD,SAAS,EAAC,WAAW;MACrBC,MAAM,EAAEb,SAAS,CAACc,OAAQ;MAAAJ,QAAA,eAE1BzC,sDAAA;QAAK8C,KAAK,EAAE;UAAEC,OAAO,EAAE;QAAO,CAAE;QAAAN,QAAA,eAC5BzC,sDAAA,CAACP,+DAAY;UACTuD,KAAK,EAAC,iBAAiB;UACvBxC,KAAK,EAAEmB,KAAM;UACbD,MAAM,EAAEA,MAAO;UACfnB,QAAQ,EAAG0B,GAAG,IAAKD,UAAU,CAACC,GAAG;QAAE,CAEtC;MAAC,CACD;IAAC,CACD,CACZ;EAAA,CACH,CAAC;AAEX,CAAC;AAED7C,wEAAkB,CAAC,yBAAyB,EAAE;EAC1CmC,KAAK,EAAE,gBAAgB;EACvB0B,OAAO,EAAE,MAAM;EACf7B,SAAS,EAAE,WAAW;EACtB8B,IAAI,EAAE7C;AACV,CAAC,CAAC,C","sources":["webpack://ds-citeocom/external window [\"wp\",\"blockEditor\"]","webpack://ds-citeocom/external window [\"wp\",\"components\"]","webpack://ds-citeocom/external window [\"wp\",\"data\"]","webpack://ds-citeocom/external window [\"wp\",\"richText\"]","webpack://ds-citeocom/external window \"React\"","webpack://ds-citeocom/external window \"ReactJSXRuntime\"","webpack://ds-citeocom/webpack/bootstrap","webpack://ds-citeocom/webpack/runtime/compat get default export","webpack://ds-citeocom/webpack/runtime/define property getters","webpack://ds-citeocom/webpack/runtime/hasOwnProperty shorthand","webpack://ds-citeocom/webpack/runtime/make namespace object","webpack://ds-citeocom/./src/core_underline/index.js"],"sourcesContent":["module.exports = window[\"wp\"][\"blockEditor\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"data\"];","module.exports = window[\"wp\"][\"richText\"];","module.exports = window[\"React\"];","module.exports = window[\"ReactJSXRuntime\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/**\n * Add custom btn for RichText component\n */\nimport { registerFormatType, applyFormat, removeFormat, toggleFormat } from '@wordpress/rich-text';\nimport { RichTextToolbarButton } from '@wordpress/block-editor';\nimport { ColorPalette, Popover } from '@wordpress/components'\nimport { useSelect } from '@wordpress/data';\n\nimport { useState, useRef, useEffect } from 'react';\n\nconst titleZoro = ({ isActive, onChange, value }) => {\n    \n    const selectedBlock = useSelect( ( select ) => {\n        return select( 'core/block-editor' ).getSelectedBlock();\n    }, [] );\n\n    if ( selectedBlock && (selectedBlock.name !== 'core/heading' && selectedBlock.name !== 'core/paragraph') ) {\n        return;\n    }\n\n    // List of template class names where the zoro color option is activated\n    const activeColorTemplate = ['onlr']\n    const bodyClassList = [...document.body.classList]\n\n    const hasColorOpt = activeColorTemplate.some(className => bodyClassList.includes(className))\n\n    if(!hasColorOpt) {\n        return (\n            <RichTextToolbarButton\n                icon=\"editor-underline\"\n                title=\"Texte souligné\"\n                onClick={() => {\n                    onChange(\n                        toggleFormat(value, {\n                            type: 'ds-com-citeo/title-zoro',\n                        })\n                    );\n                }}\n                isActive={isActive}\n            />\n        );\n    }\n\n    // Color list of the color picker\n    const colors = [\n\t\t{ name: 'Noir', color: '#000000' },\n\t\t{ name: 'Blanc', color: '#FFFFFF' },\n\t\t{ name: 'Gris', color: '#D1D5DB' },\n\t\t{ name: 'Bleu-clair', color: '#DBEAFE' },\t\t\n\t\t{ name: 'Bleu', color: '#2563EB' },\t\n\t\t{ name: 'Bleu-foncé', color: '#1E3A8A' },\t\n\t\t{ name: 'Vert-clair', color: '#DCFCE7' },\n\t\t{ name: 'Vert', color: '#16A34A' },\t\n\t\t{ name: 'Vert-foncé', color: '#14532D' },\n\t\t{ name: 'Rouge-clair', color: '#FEE2E2' },\t\n\t\t{ name: 'Rouge', color: '#DC2626' },\t\n\t\t{ name: 'Rouge-foncé', color: '#7F1D1D' },\t\n\t\t{ name: 'Jaune-clair', color: '#FEF08A'},\n\t\t{ name: 'Jaune', color: '#FACC15'},\n\t\t{ name: 'Jaune-foncé', color: '#A16207'},\n\t\t{ name: 'Ambre-clair', color: '#FEF3C7' },\t\n\t\t{ name: 'Ambre', color: '#F59E0B' },\t\n\t\t{ name: 'Ambre-foncé', color: '#B45309' },\n\t\t{ name: 'Violet-clair', color: '#DDD6FE' },\t\n\t\t{ name: 'Violet', color: '#8B5CF6' },\t\n\t\t{ name: 'Violet-foncé', color: '#4C1D95' },\n        { name: 'Cyan-clair', color: '#B7ECFF' },\t\n\t\t{ name: 'Cyan', color: '#30CFFF' },\t\n\t\t{ name: 'Cyan-foncé', color: '#02658A' }\t\n\t]\n\n    const [showPicker, setShowPicker] = useState(false);\n    const [color, setColor] = useState('#000000');\n    const optionRef = useRef();\n\n    useEffect(() => {\n        setShowPicker(false);\n    }, [color]);\n\n    const applyColor = (val) => {\n        const colorMatch = colors.find(el => el.color === val)\n\n        if(colorMatch) {\n            onChange(\n                applyFormat(value, {\n                    attributes: {\n                        class: `zoro-color--${colorMatch.name}`\n                    },\n                    type: 'ds-com-citeo/title-zoro',\n                })\n            );\n            setColor(val);\n        } else {\n            console.log('Remove zoro');\n            onChange(\n                removeFormat(value, 'ds-com-citeo/title-zoro')\n            );\n            setColor('');\n        }   \n    }\n\n    return (\n        <>\n            <RichTextToolbarButton\n                icon=\"editor-underline\"\n                title=\"Texte avec soulignement coloré\"\n                onClick={() => {\n                    setShowPicker(!showPicker)\n                }}\n                isActive={isActive}\n                ref={optionRef}\n            />\n\n            {showPicker && (\n                <Popover \n                    placement=\"top right\"\n                    anchor={optionRef.current}\n                >\n                    <div style={{ padding: '1rem' }}>\n                        <ColorPalette \n                            label=\"Couleur du zoro\"\n                            value={color}\n                            colors={colors}\n                            onChange={(val) => applyColor(val)}\n                            \n                        />\n                    </div>\n                </Popover>\n            )}\n        </>\n    );\n}; \n\nregisterFormatType('ds-com-citeo/title-zoro', {\n    title: 'Texte souligné',\n    tagName: 'span',\n    className: 'underline',\n    edit: titleZoro,\n});"],"names":["registerFormatType","applyFormat","removeFormat","toggleFormat","RichTextToolbarButton","ColorPalette","Popover","useSelect","useState","useRef","useEffect","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","titleZoro","isActive","onChange","value","selectedBlock","select","getSelectedBlock","name","activeColorTemplate","bodyClassList","document","body","classList","hasColorOpt","some","className","includes","icon","title","onClick","type","colors","color","showPicker","setShowPicker","setColor","optionRef","applyColor","val","colorMatch","find","el","attributes","class","console","log","children","ref","placement","anchor","current","style","padding","label","tagName","edit"],"sourceRoot":""}