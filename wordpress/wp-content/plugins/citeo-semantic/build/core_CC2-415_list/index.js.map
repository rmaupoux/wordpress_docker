{"version":3,"file":"core_CC2-415_list/index.js","mappings":"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","sources":["webpack://ds-citeocom/external window [\"wp\",\"blockEditor\"]","webpack://ds-citeocom/external window [\"wp\",\"components\"]","webpack://ds-citeocom/external window [\"wp\",\"compose\"]","webpack://ds-citeocom/external window [\"wp\",\"hooks\"]","webpack://ds-citeocom/external window \"React\"","webpack://ds-citeocom/external window \"ReactJSXRuntime\"","webpack://ds-citeocom/webpack/bootstrap","webpack://ds-citeocom/webpack/runtime/compat get default export","webpack://ds-citeocom/webpack/runtime/define property getters","webpack://ds-citeocom/webpack/runtime/hasOwnProperty shorthand","webpack://ds-citeocom/webpack/runtime/make namespace object","webpack://ds-citeocom/./src/core_CC2-415_list/index.js"],"sourcesContent":["module.exports = window[\"wp\"][\"blockEditor\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"compose\"];","module.exports = window[\"wp\"][\"hooks\"];","module.exports = window[\"React\"];","module.exports = window[\"ReactJSXRuntime\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { addFilter } from \"@wordpress/hooks\";\nimport { createHigherOrderComponent } from \"@wordpress/compose\";\nimport { InspectorControls } from \"@wordpress/block-editor\";\nimport { SelectControl, PanelBody, PanelRow } from \"@wordpress/components\";\nimport { useEffect } from 'react';\n\n\nconst allowedBlocks = ['core/list-item'];\n\nfunction addAttributes(settings, name) {\n\tif (!allowedBlocks.includes(name) || !settings.attributes) {\n\t\treturn settings;\n\t}\n\n\tsettings.attributes.icon = {\n\t\ttype: \"string\",\n\t\tdefault: \"Aucun\"\n\t}\n\n\treturn settings;\n}\n\nconst addAdvancedControls = createHigherOrderComponent((Block) => {\n\treturn (props) => {\n\n\t\tconst { name, attributes, setAttributes, isSelected } = props;\n\n\t\t// Si ce n'est pas le bon bloc, on quitte et on retourne le bloc original, inchangé\n\t\tif (!allowedBlocks.includes(name)) {\n\t\t\treturn (\n\t\t\t\t<Block {...props} />\n\t\t\t)\n\t\t}\n\n\t\tconst { icon } = attributes;\n\n\t\tuseEffect(() => {\n\t\t\tlet extraClass = []\n\t\t\tif(icon !== undefined) extraClass.push(`list-icon--${icon}`)\n\t\t\t\n\t\t\tif(extraClass.length > 0) {\n\t\t\t\tlet classNames = extraClass.join(' ');\n\n\t\t\t\tif(attributes.className !== undefined) {\n\t\t\t\t\tconst currClass = attributes.className.split(' ')\n\t\t\t\t\tconst filteredClass = currClass.filter(el => !el.includes('list-icon--') && !el.includes('color--'))\n\t\t\t\t\tconst concatArr = [...new Set([...filteredClass, ...extraClass])]\n\t\t\n\t\t\t\t\tclassNames = concatArr.join(' ');\n\t\t\t\t}\n\n\t\t\t\tsetAttributes( {className: classNames} );\n\t\t\t}\n\t\t}, [icon])\n\n\t\t// Ajout de l'élément dans l'inspecteur\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<Block {...props} />\n\t\t\t\t\n\t\t\t\t{isSelected &&\n\t\t\t\t\t<InspectorControls>\t\t\t\t\t\t\n\t\t\t\t\t\t<PanelBody title={\"Gestionnaire d'icônes\"}>\n\t\t\t\t\t\t\t<PanelRow>\n\t\t\t\t\t\t\t\t<SelectControl\n\t\t\t\t\t\t\t\t\tlabel={'Icône'}\n\t\t\t\t\t\t\t\t\tvalue={icon}\n\t\t\t\t\t\t\t\t\toptions={icons_list}\n\t\t\t\t\t\t\t\t\tonChange={(val) => {\n\t\t\t\t\t\t\t\t\t\tsetAttributes({ icon: val });\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</PanelRow>\n\t\t\t\t\t\t</PanelBody>\n\t\t\t\t\t</InspectorControls>\n\t\t\t\t}\n\t\t\t</>\n\t\t);\n\t};\n}, 'addAdvancedControls');\n\n// Ajout d’un nouvel attribut dans le bloc\naddFilter(\n\t'blocks.registerBlockType',\n\t'ds-citeocom/list-custom-attributes',\n\taddAttributes\n);\n// Ajout des champs dans l’inspecteur du bloc\naddFilter(\n\t'editor.BlockEdit',\n\t'ds-citeocom/list-custom-advanced-control',\n\taddAdvancedControls\n);"],"names":["addFilter","createHigherOrderComponent","InspectorControls","SelectControl","PanelBody","PanelRow","useEffect","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","allowedBlocks","addAttributes","settings","name","includes","attributes","icon","type","default","addAdvancedControls","Block","props","setAttributes","isSelected","extraClass","undefined","push","length","classNames","join","className","currClass","split","filteredClass","filter","el","concatArr","Set","children","title","label","value","options","icons_list","onChange","val"],"sourceRoot":""}