{"version":3,"file":"block_CC2-454_list-accordeon/js/view.js","mappings":"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","sources":["webpack://ds-citeocom/./src/block_CC2-454_list-accordeon/js/view.js"],"sourcesContent":["const uniqueAccordeonWrapper = document.querySelectorAll('.unique-active-accordeon');\r\n\r\nuniqueAccordeonWrapper.forEach((wrapper) => {\r\n    const accordeonList = wrapper.querySelectorAll('.accordeon-toggle');\r\n    accordeonList.forEach(item => {\r\n\r\n        item.addEventListener('click', () => {\r\n            \r\n            const itemWrapper = item.parentElement;\r\n            const isAlreadyActive = itemWrapper.classList.contains('is-active');\r\n            const hasToggleText = item.querySelector('.toggle-btn .wp-element-button');\r\n\r\n            const current = wrapper.querySelectorAll('.is-active');\r\n            let closeOffset = 0;\r\n            const scrollVal = window.scrollY, itemPosY =  item.getBoundingClientRect().top;\r\n\r\n            current.forEach(active => {\r\n                const activeContent = active.querySelector('.accordeon-content');\r\n                \r\n                closeOffset += activeContent.getBoundingClientRect().top < itemPosY ? activeContent.getBoundingClientRect().height : 0;\r\n                active.classList.remove('is-active');\r\n\r\n                if (hasToggleText) {\r\n                    const toggleText = active.querySelector('.toggle-btn .wp-element-button');\r\n                    if (active.querySelector('.toggle-btn.toggle-btn-fr')) {\r\n                        toggleText.innerText = 'Afficher';\r\n                    } else if (active.querySelector('.toggle-btn.toggle-btn-en')) {\r\n                        toggleText.innerText = 'Show';\r\n                    }\r\n                }\r\n            });\r\n\r\n            if (!isAlreadyActive) {\r\n                itemWrapper.classList.add('is-active');\r\n                scrollTo({\r\n                    top: scrollVal + itemPosY - closeOffset - 120,\r\n                    left: 0,\r\n                    behavior: \"instant\",\r\n                });\r\n            }\r\n\r\n            if (hasToggleText) {\r\n                const toggleText = item.querySelector('.toggle-btn .wp-element-button');\r\n                if (item.querySelector('.toggle-btn.toggle-btn-fr')) {\r\n                    toggleText.innerText = isAlreadyActive ? 'Afficher' : 'Masquer';\r\n                } else if (item.querySelector('.toggle-btn.toggle-btn-en')) {\r\n                    toggleText.innerText = isAlreadyActive ? 'Show' : 'Hide';\r\n                }\r\n            }\r\n        });\r\n    });\r\n});\r\n\r\nconst multipleAccordeonWrapper = document.querySelectorAll('.multiple-active-accordeon');\r\n\r\nmultipleAccordeonWrapper.forEach((wrapper) => {\r\n\r\n    const accordeonList = wrapper.querySelectorAll('.accordeon-toggle');\r\n\r\n    accordeonList.forEach(item => {\r\n        const itemWrapper = item.parentElement;\r\n        item.addEventListener('click', () => itemWrapper.classList.toggle('is-active'));\r\n    });\r\n\r\n});"],"names":["uniqueAccordeonWrapper","document","querySelectorAll","forEach","wrapper","accordeonList","item","addEventListener","itemWrapper","parentElement","isAlreadyActive","classList","contains","hasToggleText","querySelector","current","closeOffset","scrollVal","window","scrollY","itemPosY","getBoundingClientRect","top","active","activeContent","height","remove","toggleText","innerText","add","scrollTo","left","behavior","multipleAccordeonWrapper","toggle"],"sourceRoot":""}