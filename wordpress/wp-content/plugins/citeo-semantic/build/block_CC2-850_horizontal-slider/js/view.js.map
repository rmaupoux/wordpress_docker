{"version":3,"file":"block_CC2-850_horizontal-slider/js/view.js","mappings":"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","sources":["webpack://ds-citeocom/./assets/slider.js","webpack://ds-citeocom/webpack/bootstrap","webpack://ds-citeocom/webpack/runtime/define property getters","webpack://ds-citeocom/webpack/runtime/hasOwnProperty shorthand","webpack://ds-citeocom/webpack/runtime/make namespace object","webpack://ds-citeocom/./src/block_CC2-850_horizontal-slider/js/view.js"],"sourcesContent":["\r\n/*\r\n*\r\n* The 99 Slider by Thomas Guillet\r\n*\r\n*/\r\nexport const calculateItemsInView = (index, wrapper) => {\r\n    const items = wrapper.classList.contains('slider-wrap') ? [...wrapper.children].filter(e => !e.classList.contains('clone')) : [... wrapper.querySelector('.slider-wrap').children].filter(e => !e.classList.contains('clone'))\r\n    if(items.length > 1) {\r\n        const   itemsGap = Math.abs( items[0].getBoundingClientRect().right - items[1].getBoundingClientRect().left ),\r\n                viewPort = wrapper.offsetWidth\r\n\r\n        let result = 0, increment = 0\r\n        for(let i = index; i < items.length; i++) {\r\n            const slideWidth = i === index ? items[i].offsetWidth : items[i].offsetWidth + itemsGap\r\n            increment += slideWidth;\r\n            if(increment >= viewPort) {\r\n                result += 1 - ( increment - viewPort ) / viewPort;\r\n                break;\r\n            } else {\r\n                result++;\r\n            }            \r\n        }\r\n        return result;\r\n    } else {\r\n        return 0;\r\n        \r\n    }\r\n}\r\n\r\nconst shuffleArr = async (array) => {\r\n    const resultArr = array;\r\n    for (let i = resultArr.length - 1; i > 0; i--) {\r\n        const j = Math.floor(Math.random() * (i + 1));\r\n        [resultArr[i], resultArr[j]] = [resultArr[j], resultArr[i]];\r\n    }\r\n    return resultArr;\r\n}\r\n\r\nconst toggleSlider = (wrap) => {\r\n    if(wrap.children && wrap.children.length > 1) {\r\n\r\n        // Checking if the last block top boundary is below the first block bottom boundary (flex-wrap active or flex-direction column)\r\n        if( (wrap.children[0].getBoundingClientRect().bottom < wrap.children[wrap.children.length - 1].getBoundingClientRect().top) || (wrap.children[wrap.children.length - 1].getBoundingClientRect().bottom < wrap.children[0].getBoundingClientRect().top) ) {\r\n            // Kill the slider if items are positionned vertically\r\n            return false\r\n        }\r\n\r\n        const itemsInView = calculateItemsInView(0, wrap)\r\n        const childCount = [... wrap.children].filter(e => !e.classList.contains('clone')).length\r\n        return childCount > itemsInView;\r\n    } else {\r\n        return false;\r\n    }\r\n}\r\n/*\r\n* MAIN FUNCTION\r\n*/\r\nconst iOS = [\r\n    'iPad Simulator',\r\n    'iPhone Simulator',\r\n    'iPod Simulator',\r\n    'iPad',\r\n    'iPhone',\r\n    'iPod'\r\n  ].includes(navigator.platform)\r\n  // iPad on iOS 13 detection\r\n  || (navigator.userAgent.includes(\"Mac\") && \"ontouchend\" in document)\r\n\r\nexport const slide = async (wrapper, controls, sliderParam) => {\r\n    const   items = wrapper.children, \r\n            itemsLength = items?.length\r\n\r\n    // Kill the slider if no items found in slider (this allows the code to cleanly reexecute if items are added dynamically)\r\n    if(itemsLength <= 0) return;\r\n    const   prev = controls?.querySelector('.prev-slide'),\r\n            next = controls?.querySelector('.next-slide'),\r\n            firstSlide = items[0],\r\n            lastSlide = items[itemsLength - 1],\r\n            originalItems = [...items].filter(e => !e.classList.contains('clone')),\r\n            wrapViewPort = originalItems[originalItems.length - 1].getBoundingClientRect().right - originalItems[0].getBoundingClientRect().left,\r\n            { isInfinite, isDraggable, step, stepper, autoParams, isRandom, hasTotal } = sliderParam,\r\n            { hasStepper, controlStepper, stepperType } = stepper,\r\n            { isAuto, speed, autoDir } = autoParams,\r\n            totalWrap = wrapper.parentElement.querySelector('.total-wrap') || controls?.querySelector('.total-wrap')\r\n    \r\n    let gap = items.length > 1 ? Math.abs( items[0].getBoundingClientRect().right - items[1].getBoundingClientRect().left ) : 0,       \r\n        index = 0,\r\n        allowShift = true,\r\n        itemsInView = 1,\r\n        sliderStartLimit = 0,\r\n        sliderEndLimit = 0,\r\n        curItemSize = items[index].offsetWidth,\r\n        offset = 0,\r\n        stepIndexList = [],\r\n        isRunning = false,\r\n        dragStart = () => {},\r\n        dragAction = () => {},\r\n        dragEnd = () => {},\r\n        cloneStartArr = new Array(itemsLength), \r\n        cloneEndArr = new Array(itemsLength),\r\n        resizeTimer = undefined,\r\n        autoInterval = 1,\r\n        windowWidth= window.innerWidth\r\n\r\n    // CALCULATE THE SLIDER END LIMIT FOR BOTH SLIDER STOP AND SLIDER BACK TO START TRIGGER\r\n    const calculateSliderEnd = () => {\r\n        // let increment = 0\r\n        const viewPort = wrapper.getBoundingClientRect().width\r\n        // for(let i = originalItems.length - 1; i >= 0; i--) {\r\n        //     const slideWidth = i === originalItems.length - 1 ? originalItems[i].getBoundingClientRect().width : originalItems[i].getBoundingClientRect().width + gap\r\n        //     increment += slideWidth;\r\n            \r\n        //     if(increment > viewPort) {\r\n        //         increment -= slideWidth\r\n        //         break;\r\n        //     }\r\n    \r\n        // }\r\n        // const itemsTotalWidth = Math.abs(lastSlide.getBoundingClientRect().right - firstSlide.getBoundingClientRect().left - increment);\r\n        const itemsTotalWidth = Math.abs(lastSlide.getBoundingClientRect().left - firstSlide.getBoundingClientRect().left);\r\n        return -itemsTotalWidth;\r\n    }\r\n\r\n    // SNAP SLIDER TO THE CLOSEST SLIDE\r\n    const snapToIndex = (newIndex)=> {\r\n        let translateX = 0\r\n\r\n        for(let i = 0; i < newIndex; i++) {\r\n            const slideWidth = items[i].getBoundingClientRect().width + gap\r\n            translateX -= slideWidth;\r\n        }\r\n\r\n        // Not sure if this is still useful ? Looks like it checks if the current transform value is equal to where it has to snap.\r\n        const style = window.getComputedStyle(wrapper), matrix = new WebKitCSSMatrix(style.transform);\r\n        if(Math.round(matrix.m41) === Math.round(translateX)) {\r\n            checkIndex();\r\n            return;\r\n        }\r\n\r\n        wrapper.classList.add('shifting');\r\n        wrapper.style.transform = `translateX(${translateX}px)`;     \r\n    }\r\n\r\n    // CLONE ALL SLIDES AT BOTH END OF THE SLIDER\r\n    const cloneSlides = async () => {\r\n\r\n        // Checking if current clone exists (rerunned function on resize)\r\n        const currentClones = wrapper.querySelectorAll('.clone');\r\n\r\n        // Redefining firstSlide as the array may have been randomized\r\n        const firstSlideInList = items[0]\r\n\r\n        if(currentClones.length === 0) {\r\n            // Cloning both the start and end of the slider\r\n            for(let i = 0; i < itemsLength; i++) {\r\n                cloneStartArr[i] = items[i].cloneNode(true);\r\n                cloneEndArr[i] = items[i].cloneNode(true);\r\n                cloneStartArr[i].classList.add('clone');\r\n                cloneEndArr[i].classList.add('clone');\r\n            }\r\n\r\n            cloneStartArr.forEach(e => {\r\n                wrapper.appendChild(e);\r\n            });\r\n\r\n            cloneEndArr.forEach(e => {\r\n                wrapper.insertBefore(e, firstSlideInList);\r\n            });\r\n        }\r\n    }\r\n\r\n\r\n    // MAIN DRAG FUNCTIONS\r\n    if (isDraggable) {\r\n        let posX1 = 0, \r\n            posX2 = 0, \r\n            posY = 0, \r\n            wrapperPos = {\r\n                yMin: wrapper.getBoundingClientRect().top,\r\n                yMax: wrapper.getBoundingClientRect().bottom\r\n            },\r\n            isDragging = false,\r\n            isVerticalScroll = false\r\n\r\n        dragStart = (e) => {\r\n\r\n            if (!allowShift) return;\r\n\r\n            e = e || window.event;\r\n\r\n            wrapperPos = {\r\n                yMin: wrapper.getBoundingClientRect().top,\r\n                yMax: wrapper.getBoundingClientRect().bottom\r\n            };\r\n\r\n            // Detect TOUCH vs MOUSE\r\n            const isTouch = e.type === \"touchstart\";\r\n            const clientX = isTouch ? e.touches[0].clientX : e.clientX;\r\n            const clientY = isTouch ? e.touches[0].clientY : e.clientY;\r\n\r\n            // Store start coordinates\r\n            posY = clientY;\r\n            posX1 = clientX;\r\n\r\n            allowShift = false;\r\n\r\n            // Reset gesture state\r\n            isDragging = false;\r\n            isVerticalScroll = false;\r\n\r\n            // Auto mode reset\r\n            if (isAuto) {\r\n                const style = window.getComputedStyle(wrapper);\r\n                const matrix = new WebKitCSSMatrix(style.transform);\r\n                const curPos = parseFloat(matrix.m41);\r\n                wrapper.style.transform = `translateX(${curPos}px)`;\r\n            }\r\n\r\n            wrapper.classList.remove(\"shifting\");\r\n\r\n            if (!isTouch) {\r\n                // Mouse fallback\r\n                document.onmouseup = dragEnd;\r\n                document.onmousemove = dragAction;\r\n            }\r\n\r\n            if (isAuto) clearInterval(autoInterval);\r\n        }\r\n        \r\n        dragAction = (e) => {\r\n            e = e || window.event;\r\n\r\n            const isTouch = e.type === \"touchmove\";\r\n            const clientX = isTouch ? e.touches[0]?.clientX : e.clientX;\r\n            const clientY = isTouch ? e.touches[0]?.clientY : e.clientY;\r\n\r\n            // No touches (iOS edge-case or mouseup fired already)\r\n            if (clientX == null || clientY == null) return;\r\n\r\n            // Calculate delta from start coordinates\r\n            const dx = clientX - posX1;\r\n            const dy = clientY - posY;\r\n\r\n            // Check whether the user is scrolling vertically or horizontally\r\n            if (!isDragging && !isVerticalScroll) {\r\n\r\n                // Vertical scroll passed threshold AND greater than horizontal scroll = let the page scroll\r\n                if (Math.abs(dy) > 50 && Math.abs(dy) > Math.abs(dx)) {\r\n                    isVerticalScroll = true;\r\n                    return;\r\n                }\r\n\r\n                // Horizontal drag wins\r\n                if (Math.abs(dx) > 10) {\r\n                    isDragging = true;\r\n                }\r\n            }\r\n\r\n            if (isVerticalScroll) return;\r\n\r\n            // Horizontal dragging so we block page scroll\r\n            if (isDragging) {\r\n                e.preventDefault();\r\n                if (isTouch) e.stopPropagation();\r\n            }\r\n\r\n            posX2 = posX1 - clientX;\r\n            posX1 = clientX;\r\n        \r\n            const style = window.getComputedStyle(wrapper), matrix = new WebKitCSSMatrix(style.transform), curPos = parseFloat(matrix.m41);\r\n            \r\n            if(isInfinite) {\r\n                \r\n                const lastSlideWidth = originalItems[originalItems.length - 1].getBoundingClientRect().right - originalItems[originalItems.length - 1].getBoundingClientRect().left\r\n                const firstSlideWidth = originalItems[0].getBoundingClientRect().right - originalItems[0].getBoundingClientRect().left\r\n                if (curPos - posX2 >= sliderStartLimit + lastSlideWidth + gap) {\r\n                    wrapper.style.transform = `translateX(${sliderEndLimit}px)`;\r\n                } else if (curPos - posX2 <= (sliderEndLimit - firstSlideWidth)) {\r\n                    wrapper.style.transform = `translateX(${sliderStartLimit}px)`;\r\n                } else {\r\n                    wrapper.style.transform = `translateX(${(curPos - posX2)}px)`;\r\n                }\r\n        \r\n            } else {\r\n                if (curPos - posX2 >= sliderStartLimit) {\r\n                    wrapper.style.transform = `translateX(${sliderStartLimit}px)`;\r\n                } else if (curPos - posX2 <= (sliderEndLimit)) {\r\n                    wrapper.style.transform = `translateX(${sliderEndLimit}px)`;\r\n                } else {\r\n                    wrapper.style.transform = `translateX(${curPos - posX2}px`;\r\n                }\r\n        \r\n            }\r\n        }\r\n        \r\n        dragEnd = () => {\r\n            document.onmouseup = null;\r\n            document.onmousemove = null;\r\n\r\n            isDragging = false;\r\n            isVerticalScroll = false;\r\n        \r\n            const style = window.getComputedStyle(wrapper), matrix = new WebKitCSSMatrix(style.transform), curPos = parseFloat(matrix.m41);\r\n            const getIndexFromPos = (pos) => {\r\n                const cleanedPos = Math.abs(pos);\r\n                let result = 0, increment = 0\r\n                for(let i = 0; i < items.length; i++) {\r\n                    const slideWidth = i === 0 ? items[i].offsetWidth : items[i].offsetWidth + gap\r\n                    increment += slideWidth;\r\n        \r\n                    if(increment >= cleanedPos) {\r\n                        result += 1 - ( increment - cleanedPos ) / slideWidth;\r\n                        break;\r\n                    } else {\r\n                        result++;\r\n                    }            \r\n        \r\n                }\r\n                // Threshold to slide to next item\r\n                if(result > index && result % 1 < 0.25 || result < index && result % 1 < 0.75) {\r\n                    result = Math.floor(result)\r\n                } else {\r\n                    result = Math.ceil(result);\r\n                }\r\n                return result;\r\n            }\r\n            \r\n            index = getIndexFromPos(curPos);\r\n            itemsInView = Math.ceil(calculateItemsInView(index, wrapper));\r\n        \r\n            if(!isInfinite) {\r\n                if(prev && (curPos === 0)) {\r\n                    checkIndex();\r\n                    return;\r\n                }\r\n            }\r\n            if(isAuto) {\r\n                index = autoDir === 'left' ? itemsLength + offset : offset - 1;\r\n                wrapper.style.transform = `translateX(${curPos}px)`;\r\n                const slideProg = autoDir === 'left' ? Math.abs(2 * ( ( 2 * wrapViewPort - Math.abs(curPos) )  / ( 2 * wrapViewPort ) ) ) : Math.abs( 1 - 2 * ( ( 2 * wrapViewPort - Math.abs(curPos) )  / ( 2 * wrapViewPort ) ) )\r\n                // Since slider is infinite, add the offset to get the real progression of the slider\r\n                wrapper.style.transition = `transform linear ${slideProg * originalItems.length * speed}s`;\r\n            }\r\n            snapToIndex(index);\r\n            \r\n            allowShift = true;\r\n        }\r\n    }\r\n    // GO TO NEXT SLIDER BASED ON A GIVEN DIRECTION\r\n    const shiftSlide = (dir) => {\r\n        wrapper.classList.add('shifting');\r\n        if (allowShift) {\r\n            const style = window.getComputedStyle(wrapper), matrix = new WebKitCSSMatrix(style.transform);\r\n            if (dir == -1) {\r\n                curItemSize = Math.round( items[index].offsetWidth + Math.abs(gap) );\r\n                index += step;\r\n            } else if (dir == 1) {\r\n                index -= step;\r\n                curItemSize = Math.round( items[index].offsetWidth + Math.abs(gap) );\r\n            } \r\n            wrapper.style.transform = `translateX(${matrix.m41 + step * dir * (curItemSize)}px)`;\r\n        };\r\n        \r\n        // Prevent double input while animating\r\n        allowShift = false;\r\n    }\r\n        \r\n    // SANITIZE THE INDEX TO MAKE SURE IT'S WITHIN DEFINED BOUNDARIES\r\n    const checkIndex = () => {\r\n        wrapper.classList.remove('shifting');\r\n        const activeSlides = wrapper.querySelectorAll('.active-slide')\r\n        activeSlides.forEach(e => e.classList.remove('active-slide'));\r\n        if(isInfinite) {\r\n            if (index < offset) {\r\n                wrapper.style.transform = `translateX(${sliderEndLimit}px`;\r\n                index += offset;\r\n                if(isAuto) {\r\n                    index = offset - 1;\r\n                    wrapper.style.transition = `transform linear ${originalItems.length * speed}s`;\r\n                    snapToIndex(index);\r\n                }\r\n            } else if (index >= (itemsLength + offset)) {\r\n                wrapper.style.transform = `translateX(${sliderStartLimit}px`;\r\n                index = offset;\r\n                if(isAuto) {\r\n                    index = itemsLength + offset;\r\n                    wrapper.style.transition = `transform linear ${originalItems.length * speed}s`;\r\n                    snapToIndex(index);\r\n                }\r\n            }\r\n            items[index]?.classList.add('active-slide');\r\n        } else {\r\n            // Added a 0.01 buffer to compensate rounded value \r\n            itemsInView = calculateItemsInView(index, wrapper) + 0.05;\r\n            if(index < step && prev) {\r\n                next.classList.remove('disabled');\r\n                prev.classList.add('disabled')\r\n            }\r\n            else if (index >= (itemsLength - 1) && prev) {\r\n                // Permet de naviguer jusqu'au dernier élément (index = itemsLength - 1)\r\n                prev.classList.remove('disabled');\r\n                next.classList.add('disabled')\r\n            }\r\n            else {\r\n                prev?.classList.remove('disabled');\r\n                next?.classList.remove('disabled');\r\n            }\r\n            items[index].classList.add('active-slide');\r\n            \r\n        }\r\n        if(hasStepper) {\r\n            controlStepper.querySelector('.active-step')?.classList.remove('active-step');\r\n            \r\n            isInfinite && originalItems.length > itemsInView ? stepIndexList[index - offset].classList.add('active-step') : stepIndexList[index].classList.add('active-step')\r\n        }\r\n        if(hasTotal) {\r\n            // Calcul pour naviguer élément par élément jusqu'au dernier\r\n            let displayIndex = isInfinite ? index - itemsLength + 1 : index + 1\r\n            totalWrap.innerHTML = `${displayIndex}/${itemsLength}`\r\n        }\r\n        allowShift = true;\r\n    }\r\n    /*\r\n    * ACTIVATE SLIDER\r\n    */ \r\n    const activateSlider = async () => {\r\n        itemsInView = Math.ceil(calculateItemsInView(index, wrapper));\r\n        sliderEndLimit = calculateSliderEnd();\r\n\r\n        // EVENT LISTENER\r\n        if(isDraggable) {\r\n            if (\"ontouchstart\" in document.documentElement){\r\n\r\n                // Touch events\r\n                wrapper.addEventListener('touchstart', dragStart, { passive: false });\r\n                wrapper.addEventListener('touchend', dragEnd);\r\n                wrapper.addEventListener('touchmove', dragAction, { passive: false });\r\n            \r\n            } else {\r\n                wrapper.onmousedown = dragStart;\r\n            }\r\n        }\r\n\r\n        // Adding prev and next click events if they are defined\r\n        if(prev || next) {\r\n            prev.style.display = 'block';\r\n            next.style.display = 'block';\r\n            prev?.addEventListener('click', () => shiftSlide(step));\r\n            next?.addEventListener('click', () => shiftSlide(-step));\r\n        }\r\n\r\n        // STEPPER\r\n        if(hasStepper) {\r\n            controlStepper.innerHTML = '';\r\n            for(let i = 1; i <= itemsLength; i++) {\r\n                const stepIndex = document.createElement('span')\r\n                stepIndex.classList.add('step-index');\r\n                stepIndex.classList.add(`step-${stepperType}`);\r\n                if (stepperType === 'num') {\r\n                    stepIndex.innerText = i\r\n                }\r\n                \r\n                controlStepper.appendChild(stepIndex);\r\n            }\r\n            stepIndexList = controlStepper.querySelectorAll('.step-index');\r\n            const activeStepper = isInfinite && originalItems.length > itemsInView ? index - itemsInView : index\r\n            stepIndexList[activeStepper].classList.add('active-step');\r\n            stepIndexList.forEach((e, id) => {\r\n                const key = isInfinite && originalItems.length > itemsInView ? id + offset : id\r\n                e.addEventListener('click', () => {\r\n                    index = key;\r\n                    snapToIndex(index);                \r\n                }); \r\n            });\r\n        }\r\n\r\n        if(isRandom) {\r\n            wrapper.innerHTML = '';\r\n            await shuffleArr(originalItems);\r\n            originalItems.forEach(slide => {\r\n                wrapper.appendChild(slide)\r\n            })\r\n        }\r\n\r\n        // INFINITE \r\n        if(isInfinite) {\r\n            await cloneSlides();\r\n            sliderStartLimit = originalItems[0].getBoundingClientRect().left - originalItems[originalItems.length - 1].getBoundingClientRect().right - gap\r\n            offset = itemsLength\r\n            // Refresh the index to the number of slides we've added before\r\n            index = itemsLength;\r\n            wrapper.style.transition = 'none';\r\n            wrapper.style.transform = `translateX(${sliderStartLimit}px)`;\r\n            sliderEndLimit = sliderStartLimit + (originalItems[0].getBoundingClientRect().left - originalItems[originalItems.length - 2].getBoundingClientRect().right - gap);\r\n            // Making the slider automatically slide\r\n            if(isAuto) {\r\n                if(autoDir === 'left') index = itemsLength + offset;\r\n                else if(autoDir === 'right') {\r\n                    wrapper.style.transform = `translateX(${sliderEndLimit}px)`;\r\n                    index = offset - 1;\r\n                } \r\n                wrapper.style.transition = `transform linear ${originalItems.length * speed}s`;\r\n                \r\n                // gives the window time to recompute its position\r\n                setTimeout(() => {\r\n                    snapToIndex(index);\r\n                }, 0);\r\n            }\r\n            \r\n        } else { \r\n            // Deactivate prev button as default index is 0\r\n            prev?.classList.add('disabled');\r\n        }\r\n\r\n        if(!isAuto) {\r\n            wrapper.style.transition = `transform ease-out ${step * 0.25}s`;\r\n        }\r\n\r\n        // TOTAL \r\n        if(hasTotal) {\r\n            // Calcul pour naviguer élément par élément jusqu'au dernier\r\n            let displayIndex = isInfinite ? index - itemsLength + 1 : Math.min(index + 1, itemsLength);\r\n\r\n            totalWrap.innerHTML = `${displayIndex}/${itemsLength}`;\r\n            totalWrap.style.display = 'block';\r\n        }\r\n\r\n        // Add the active-slide class to the first element of the slider\r\n        const activeSlides = wrapper.querySelectorAll('.active-slide')\r\n        activeSlides.forEach(e => e.classList.remove('active-slide'));\r\n        items[index].classList.add('active-slide');\r\n            \r\n        // Initializing the wrapper\r\n        wrapper.classList.remove('no-slide');\r\n        isRunning = true\r\n    }\r\n    /*\r\n    * UPDATE SLIDER VARIABLES\r\n    */ \r\n    const updateSlider = () => {\r\n        gap = Math.abs( items[0].getBoundingClientRect().right - items[1].getBoundingClientRect().left )\r\n        itemsInView = Math.ceil(calculateItemsInView(index, wrapper));\r\n        sliderStartLimit = isInfinite && originalItems.length > itemsInView ? \r\n            originalItems[0].getBoundingClientRect().left - originalItems[originalItems.length - 1].getBoundingClientRect().right - gap :\r\n            0\r\n        sliderEndLimit = isInfinite && originalItems.length > itemsInView ? \r\n            sliderStartLimit + (originalItems[0].getBoundingClientRect().left - originalItems[originalItems.length - 2].getBoundingClientRect().right - gap) : \r\n            calculateSliderEnd();\r\n        if(isAuto) {\r\n            const style = window.getComputedStyle(wrapper), matrix = new WebKitCSSMatrix(style.transform), curPos = parseFloat(matrix.m41);\r\n            const slideProg = autoDir === 'left' ? Math.abs(2 * ( ( 2 * wrapViewPort - Math.abs(curPos) )  / ( 2 * wrapViewPort ) ) ) : Math.abs( 1 - 2 * ( ( 2 * wrapViewPort - Math.abs(curPos) )  / ( 2 * wrapViewPort ) ) )\r\n            const sliderLength = Math.abs(sliderEndLimit - sliderStartLimit);\r\n            wrapper.style.transition = 'none';\r\n            wrapper.style.transform = `translateX(${sliderStartLimit - (slideProg * sliderLength)}px)`;\r\n            if(autoDir === 'left') index = itemsLength + offset;\r\n            else if(autoDir === 'right') {\r\n                wrapper.style.transform = `translateX(${sliderEndLimit + (slideProg * sliderLength)}px)`;\r\n                index = offset - 1;\r\n            } \r\n            wrapper.style.transition = `transform linear ${slideProg * originalItems.length * speed}s`;            \r\n            \r\n        } else {\r\n            checkIndex(); \r\n        }\r\n        \r\n        if(hasTotal) {\r\n            // Calcul pour naviguer élément par élément jusqu'au dernier\r\n            let displayIndex;\r\n            if (isInfinite) {\r\n                displayIndex = index - itemsLength + 1;\r\n            } else {\r\n                // Pour navigation normale : index+1 mais plafonné au nombre total d'éléments\r\n                displayIndex = Math.min(index + 1, itemsLength);\r\n            }\r\n            totalWrap.innerHTML = `${displayIndex}/${itemsLength}`;\r\n            totalWrap.style.display = 'block';\r\n        }\r\n        // gives the window time to recompute its position\r\n        setTimeout(() => {\r\n            snapToIndex(index);\r\n        }, 0);\r\n    }\r\n    /*\r\n    * DEACTIVATE SLIDER\r\n    */ \r\n    const deactivateSlider = () => {\r\n        index = isInfinite ? offset : 0;\r\n        if(isDraggable) {\r\n            if (\"ontouchstart\" in document.documentElement){\r\n                // Because iOS is shit\r\n                if(iOS) {\r\n                    // Touch events\r\n                    document.removeEventListener('touchstart', dragStart);\r\n                    document.removeEventListener('touchend', dragEnd);\r\n                    document.removeEventListener('touchmove', dragAction, {passive: false});\r\n                } else {\r\n                    // Touch events\r\n                    wrapper.removeEventListener('touchstart', dragStart);\r\n                    wrapper.removeEventListener('touchend', dragEnd);\r\n                    wrapper.removeEventListener('touchmove', dragAction);\r\n                }\r\n                \r\n            } else {\r\n                wrapper.removeEventListener('mousedown', dragStart);\r\n            }\r\n        }\r\n        if(prev || next) {\r\n            prev.style.display = 'none';\r\n            next.style.display = 'none';\r\n            prev?.removeEventListener('click', () => shiftSlide);\r\n            next?.removeEventListener('click', () => shiftSlide);\r\n        }\r\n        if(hasTotal) {\r\n            totalWrap.innerHTML = '';\r\n            totalWrap.style.display = 'none'\r\n        }\r\n        if(hasStepper) {\r\n            controlStepper.innerHTML = '';\r\n        }\r\n        // DEACTIVATE AUTO SLIDE\r\n        wrapper.querySelectorAll('.clone').forEach(el => el.remove());\r\n        wrapper.classList.remove('shifting');\r\n        wrapper.classList.add('no-slide');\r\n        isRunning = false;\r\n    }\r\n    // RESIZE\r\n    window.addEventListener(\"resize\", function(){\r\n        if(window.innerWidth !== windowWidth){\r\n            windowWidth = window.innerWidth;\r\n            clearTimeout(resizeTimer);\r\n            resizeTimer = setTimeout(() => {            \r\n                if(toggleSlider(wrapper) && !isRunning) {\r\n                    activateSlider();\r\n                } else if(!toggleSlider(wrapper) && isRunning) {\r\n                    deactivateSlider();\r\n                } else if (isRunning && toggleSlider(wrapper)) {\r\n                    updateSlider();\r\n                }\r\n            }, 200);   \r\n        }\r\n        \r\n    });\r\n    // Add the active-slide class to the first element of the slider\r\n    const activeSlides = wrapper.querySelectorAll('.active-slide')\r\n    activeSlides.forEach(e => e.classList.remove('active-slide'));\r\n    items[index].classList.add('active-slide');\r\n    // INITAL START\r\n    toggleSlider(wrapper) ? activateSlider() : deactivateSlider(); \r\n    \r\n    // Recalibrate slides in case some lazyloading changes slide width or prevent the slider from properly initializing.\r\n    if(iOS) {\r\n        setTimeout(() => {\r\n            if(isRunning) updateSlider();\r\n            else if(toggleSlider(wrapper)){\r\n                activateSlider();\r\n            }\r\n        }, 1000);\r\n    }\r\n    \r\n    \r\n    // Transition events to clean the index and reactivate inputs\r\n    wrapper.addEventListener('transitionend', () => {\r\n        checkIndex()\r\n    });\r\n    wrapper.classList.add('loaded');\r\n}\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { slide } from '/assets/slider'\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", () => {\r\n\r\n    /*\r\n    * INITIALIZATION FUNCTION\r\n    */\r\n    const initialize = () => {\r\n        // Class name activating the slider code, needs to be a parent of the actual slider\r\n        const sliderTrigger = document.querySelectorAll('.has-horizontal-slider')\r\n\r\n        sliderTrigger.forEach(slider => {\r\n\r\n            const sliderWrap = slider.querySelector('.slider-wrap')\r\n\r\n            if( sliderWrap ) {\r\n\r\n                const controlsWrap = slider.querySelector('.slider-controls')\r\n                const stepperWrap = slider.querySelector('.stepper-wrap')\r\n\r\n                // Convert dataset value into slider parameters\r\n                const   isInfinite = slider.dataset.infinite === 'true',\r\n                        isDraggable = slider.dataset.draggable === 'true',\r\n                        step = parseInt(slider.dataset.step),\r\n                        hasStepper = slider.dataset.stepper === 'true',\r\n                        stepperType = slider.dataset.stepperType,\r\n                        isAuto = slider.dataset.isAuto === 'true',\r\n                        speed = parseInt(slider.dataset.speed),\r\n                        autoDir = slider.dataset.autoDir,\r\n                        isRandom = slider.dataset.isRandom === 'true',\r\n                        hasTotal = slider.dataset.total === 'true'\r\n\r\n                const sliderParams = {\r\n                    isInfinite: isInfinite,\r\n                    isDraggable: isDraggable,\r\n                    step: step,\r\n                    stepper: {\r\n                        hasStepper: hasStepper,\r\n                        controlStepper: stepperWrap,\r\n                        stepperType: stepperType\r\n                    },\r\n                    autoParams: {\r\n                        isAuto: isAuto, \r\n                        speed: speed, \r\n                        autoDir: autoDir\r\n                    },\r\n                    isRandom: isRandom,\r\n                    hasTotal: hasTotal\r\n                }\r\n\r\n                slide(sliderWrap, controlsWrap, sliderParams);\r\n\r\n            } else { \r\n                \r\n                console.warn('No slider found in this page.');\r\n\r\n            }\r\n        \r\n        });\r\n    };\r\n\r\n    initialize();\r\n});\r\n\r\n"],"names":["calculateItemsInView","index","wrapper","items","classList","contains","children","filter","e","querySelector","length","itemsGap","Math","abs","getBoundingClientRect","right","left","viewPort","offsetWidth","result","increment","i","slideWidth","shuffleArr","array","resultArr","j","floor","random","toggleSlider","wrap","bottom","top","itemsInView","childCount","iOS","includes","navigator","platform","userAgent","document","slide","controls","sliderParam","itemsLength","prev","next","firstSlide","lastSlide","originalItems","wrapViewPort","isInfinite","isDraggable","step","stepper","autoParams","isRandom","hasTotal","hasStepper","controlStepper","stepperType","isAuto","speed","autoDir","totalWrap","parentElement","gap","allowShift","sliderStartLimit","sliderEndLimit","curItemSize","offset","stepIndexList","isRunning","dragStart","dragAction","dragEnd","cloneStartArr","Array","cloneEndArr","resizeTimer","undefined","autoInterval","windowWidth","window","innerWidth","calculateSliderEnd","width","itemsTotalWidth","snapToIndex","newIndex","translateX","style","getComputedStyle","matrix","WebKitCSSMatrix","transform","round","m41","checkIndex","add","cloneSlides","currentClones","querySelectorAll","firstSlideInList","cloneNode","forEach","appendChild","insertBefore","posX1","posX2","posY","wrapperPos","yMin","yMax","isDragging","isVerticalScroll","event","isTouch","type","clientX","touches","clientY","curPos","parseFloat","remove","onmouseup","onmousemove","clearInterval","dx","dy","preventDefault","stopPropagation","lastSlideWidth","firstSlideWidth","getIndexFromPos","pos","cleanedPos","ceil","slideProg","transition","shiftSlide","dir","activeSlides","displayIndex","innerHTML","activateSlider","documentElement","addEventListener","passive","onmousedown","display","stepIndex","createElement","innerText","activeStepper","id","key","setTimeout","min","updateSlider","sliderLength","deactivateSlider","removeEventListener","el","clearTimeout","initialize","sliderTrigger","slider","sliderWrap","controlsWrap","stepperWrap","dataset","infinite","draggable","parseInt","total","sliderParams","console","warn"],"sourceRoot":""}