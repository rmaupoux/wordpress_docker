{"version":3,"file":"core_MC-239_text-formatting-size/index.js","mappings":"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","sources":["webpack://ds-citeocom/external window [\"wp\",\"blockEditor\"]","webpack://ds-citeocom/external window [\"wp\",\"components\"]","webpack://ds-citeocom/external window [\"wp\",\"element\"]","webpack://ds-citeocom/external window [\"wp\",\"i18n\"]","webpack://ds-citeocom/external window [\"wp\",\"richText\"]","webpack://ds-citeocom/external window \"ReactJSXRuntime\"","webpack://ds-citeocom/webpack/bootstrap","webpack://ds-citeocom/webpack/runtime/compat get default export","webpack://ds-citeocom/webpack/runtime/define property getters","webpack://ds-citeocom/webpack/runtime/hasOwnProperty shorthand","webpack://ds-citeocom/webpack/runtime/make namespace object","webpack://ds-citeocom/./src/core_MC-239_text-formatting-size/index.js"],"sourcesContent":["module.exports = window[\"wp\"][\"blockEditor\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"i18n\"];","module.exports = window[\"wp\"][\"richText\"];","module.exports = window[\"ReactJSXRuntime\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import {  registerFormatType, applyFormat, removeFormat } from '@wordpress/rich-text';\nimport { RichTextToolbarButton } from '@wordpress/block-editor';\nimport { Dropdown, MenuGroup, MenuItem } from '@wordpress/components';\n\nimport { useState } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\n\nconst FONT_SIZE_FORMATS = [\n  { className: 'ds-heading-1', title: __('Titre très grand', 'citeo') },\n  { className: 'ds-heading-2', title: __('Titre grand', 'citeo') },\n  { className: 'ds-heading-3', title: __('Titre basique', 'citeo') },\n  { className: 'ds-heading-4', title: __('Titre petit', 'citeo') },\n  { className: 'ds-display-number', title: __('Exergue chiffre', 'citeo') },\n  { className: 'ds-display-1', title: __('Exergue titre grand', 'citeo') },\n  { className: 'ds-display-2', title: __('Exergue titre petit', 'citeo') },\n  { className: 'ds-text-large', title: __('Texte grand', 'citeo') },\n  { className: 'ds-text-base', title: __('Texte basique', 'citeo') },\n  { className: 'ds-text-paragraph', title: __('Texte paragraphe', 'citeo') },      \n  { className: 'ds-text-small', title: __('Texte petit', 'citeo') },\n  { className: 'ds-text-xsmall', title: __('Texte très petit', 'citeo') },\n];\n\n\nconst sizeIcon = <svg fill=\"#000000\" width=\"800px\" height=\"800px\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"m22 6-3-4-3 4h2v4h-2l3 4 3-4h-2V6zM9.307 4l-6 16h2.137l1.875-5h6.363l1.875 5h2.137l-6-16H9.307zm-1.239 9L10.5 6.515 12.932 13H8.068z\"/></svg>\n\nregisterFormatType('citeo-semantic/font-size-selector', {\n\ttitle: 'Choix taille police',\n\ttagName: 'span',\n\tclassName: 'custom-size',\n\tedit: ( { isActive, onChange, value } ) => {\n\t\tconst [size, setSize] = useState('ds-text-base');\n\n\t\tconst applySize = (val) => {\n\t\t\tconst sizeMatch = FONT_SIZE_FORMATS.find(el => el.className === val)\n\n\t\t\tif(sizeMatch) {\n\t\t\t\tonChange(\n\t\t\t\t\tapplyFormat(value, {\n\t\t\t\t\t\tattributes: {\n\t\t\t\t\t\t\tclass: `${val}`\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttype: 'citeo-semantic/font-size-selector',\n\t\t\t\t\t})\n\t\t\t\t);\n\t\t\t\tsetSize(val);\n\t\t\t} else {\n\t\t\t\tconsole.log('Remove custom size');\n\t\t\t\tonChange(\n\t\t\t\t\tremoveFormat(value, 'citeo-semantic/font-size-selector')\n\t\t\t\t);\n\t\t\t\tsetSize('');\n\t\t\t}   \n\t\t}\n\n\t\treturn (\n\t\t\t<Dropdown\n\t\t\t\tpopoverProps={{\n\t\t\t\t\tplacement: 'right-start',\n\t\t\t\t\tmodifiers: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: 'preventOverflow',\n\t\t\t\t\t\t\toptions: {\n\t\t\t\t\t\t\t\tboundariesElement: 'viewport',\n\t\t\t\t\t\t\t\tpadding: 24,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t}\n\t\t\t\t\t],\n\t\t\t\t}}\n\t\t\t\trenderToggle={({ isOpen, onToggle, ref }) => (\n\t\t\t\t\t<RichTextToolbarButton\n\t\t\t\t\t\ticon={sizeIcon}\n\t\t\t\t\t\ttitle=\"Choix taille police\"\n\t\t\t\t\t\tonClick={onToggle}\n\t\t\t\t\t\tisActive={isActive || isOpen}\n\t\t\t\t\t\tref={ref}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t\trenderContent={() => (\n\t\t\t\t\t<MenuGroup label={__('Choisir une taille', 'citeo')}>\n\t\t\t\t\t\t{FONT_SIZE_FORMATS.map(({ className, title }) => (\n\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\tkey={className}\n\t\t\t\t\t\t\t\ticon={size === className ? 'yes' : null}\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tapplySize(className);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{title}\n\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t))}\n\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\tisDestructive\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tapplySize('');\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{__('Supprimer le style', 'citeo')}\n\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t</MenuGroup>\n\t\t\t\t)}\n\t\t\t/>\n\t\t)\n\t},\n});"],"names":["registerFormatType","applyFormat","removeFormat","RichTextToolbarButton","Dropdown","MenuGroup","MenuItem","useState","__","jsx","_jsx","jsxs","_jsxs","FONT_SIZE_FORMATS","className","title","sizeIcon","fill","width","height","viewBox","xmlns","children","d","tagName","edit","isActive","onChange","value","size","setSize","applySize","val","sizeMatch","find","el","attributes","class","type","console","log","popoverProps","placement","modifiers","name","options","boundariesElement","padding","renderToggle","isOpen","onToggle","ref","icon","onClick","renderContent","label","map","isDestructive"],"sourceRoot":""}