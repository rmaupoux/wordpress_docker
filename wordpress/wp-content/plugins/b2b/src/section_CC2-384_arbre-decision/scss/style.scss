.wp-block-ds-citeocom-section-chart {
    position: relative;
    padding: 7.5rem 0;
    box-sizing: border-box;
    
    background-color: var(--ds-semantic-color-accent1-surface-subtlest);

    & > *:not(.back-picto) {
        max-width: var(--wp--style--global--content-size);
        margin: auto;
    }

    &.is-white {
		background-color: transparent !important;

		.back-picto {
			background-color: var(--ds-semantic-color-accent1-surface-subtlest);
		}
	}

    .back-picto {
        position: absolute;

        top: 0;
        right: 0;
        z-index: 0;

        width: 100%;
        height: 100%;

        mask-position: right top;
        mask-repeat: no-repeat;
        mask-size: 30%;
        background-color: var(--ds-semantic-color-layout-invert-content-subtle);
        
        pointer-events: none;
    }

    .wp-block-b2b-title-description-button {
        position: relative;
        z-index: 1;

        p, .wp-block-heading {
            max-width: 32rem;
        }
        
    }

    .chart-section {
        display: grid;
        grid-template-columns: 1fr 3fr;
        gap: 11rem;
        align-items: center;

        position: relative;
    
        box-sizing: border-box;
        width: 100%;
        padding: 3.75rem 5.5625rem;
        margin-top: var(--ds-semantic-spacing-5xl);
        
        background-color: var(--ds-semantic-color-layout-surface-medium-default);
        border-radius: 0.75rem;
        box-shadow: 0 17px 32px -2px rgba(28, 39, 49, 0.05); 

        // Hack to add a background on the icon
        &::before {
            content: '';

            position: absolute;
            top: calc(50% - var(--ds-semantic-spacing-xl) - 1px);
            left: calc(5.5625rem + 1px);
            z-index: 0;

            width: var(--ds-semantic-sizing-4xl);
            height: var(--ds-semantic-sizing-4xl);
            box-sizing: border-box;

            border-radius: var(--ds-semantic-radius-default);
            border: solid 1px var(--ds-semantic-color-accent1-border-medium);
            background: var(--ds-semantic-color-accent1-surface-subtlest);
        }
    
        .main-picto {
            position: relative;
            z-index: 1;

            width: var(--ds-semantic-sizing-4xl);
            height: var(--ds-semantic-sizing-4xl);
            box-sizing: border-box;

            display: flex;
            align-items: center;
            justify-content: center;

            background-color: var(--ds-semantic-color-accent1-content-strong) !important;
            border: solid 1px transparent;
            border-radius: .25rem;

            mask-size: 2rem !important;
        }

        .ds-icon {
            --ds-icon-color: var(--ds-semantic-color-accent1-content-strong);

            padding: var(--ds-semantic-spacing-s);

            background-color: transparent !important;
        }
    
        .chart-wrap {
            position: absolute;
            top: 0;
            left: 0;
            
            width: 100%;
            height: 100%;
    
            pointer-events: none;

            // Use to map the stroke color in JS
            color: var(--ds-semantic-color-accent1-border-subtle);
    
            .chart-canvas{
                position: absolute;
                width: 100%;
                height: 100%;
            }
        }
    
        @media screen and (max-width: 1024px) {
            & {
                padding: 3.75rem 3.5rem;

                &::before {
                    left: calc(3.5rem + 1px);
                }
            }
        }
    
        @media screen and (max-width: 834px) {
            & {
                display: flex;
                flex-direction: column;
                gap: var(--ds-semantic-spacing-2xl);
    
                padding: var(--ds-semantic-spacing-3xl) var(--ds-semantic-spacing-xl);

                margin: 3.5rem 0 0;

                &::before {
                    top: calc(var(--ds-semantic-spacing-3xl) + 1px);
                    left: calc(50% - var(--ds-semantic-spacing-xl) - 1px);
                }

                .chart-wrap {
                    display: none;
                }
    
                .picto-block-wrap {
                    grid-template-columns: 3.75rem 1fr;
    
                    .picto-num {
                        display: none !important;
                    }
                }
            }
        }
    
        @media screen and (max-width: 600px) {
            & {
                padding: var(--ds-semantic-spacing-xl) 1.25rem;

                &::before {
                    top: calc(var(--ds-semantic-spacing-xl) + 1px);
                }
    
                .picto-block-wrap {
                    grid-template-columns: 3rem 1fr;
    
                    &::before, .chart-picto {
                        width: var(--ds-semantic-sizing-2xl);
                        height: var(--ds-semantic-sizing-2xl);
                    }

                    .txt-wrap {
                        padding-top: var(--ds-semantic-spacing-xs);
                    }
                }   
            }
        }
    }

    @media screen and (max-width: 1264px) {
        & {
            padding-left: var(--ds-semantic-spacing-xl);
            padding-right: var(--ds-semantic-spacing-xl);
        }
    }

    @media screen and (max-width: 834px) {
        & {
            padding-top: var(--ds-semantic-spacing-4xl);
            padding-bottom: var(--ds-semantic-spacing-4xl);
        }

        .chart-section {
            margin-top: var(--ds-semantic-spacing-2xl);
        }

        .back-picto {
            display: none;
        }
    }

    @media screen and (max-width: 600px) {
        & {
            padding-left: var(--ds-semantic-spacing-m);
            padding-right: var(--ds-semantic-spacing-m);
        }

        .back-picto {
            mask-size: 66% !important;
        }
    }

    @for $i from 2 through 3 {
        &.subtheme-accent#{$i} {
            background-color: var(--ds-semantic-color-accent#{$i}-surface-subtlest);

            &.is-white {
                .back-picto {
                    background-color: var(--ds-semantic-color-accent#{$i}-surface-subtlest);
                }
            }
        }
    }
}